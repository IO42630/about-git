= Git

#### Areas
* 1-3 are local.
* 1-4 may be called trees.

{empty} +

[cols="1,4,12"]
|===
| 1 | Working Directory | > "physical" directory in which repo was initialized. +
- > contains files, +
- > some of which are already *indexed* by git, +
- > while others are not.
| 2 | Staging Area | > collection of all files that are indexed by git. +
> `add <file>` adds a file to index.
| 3 | Local Repository | > `commit` adds changes in indexed files to the local repo. +
> 1..n files can be committed in a single commit. +
> `HEAD` points to last commit. +
- > i.e. commiting a change, moves the head to said change.
| 4 | Remote Repository | > is created with `git init --bare` +
> this makes it impossible to commit +
> only `push` is allowed.
| 5 | Live Version |
|===

{empty} +

==== Transitions

|===
| `1 -> 2` | `add <file>`
| `2 -> 3` | `commit`
| `3 -> 4` | `push <origin> <branch>`
| `3 <- 4` | `fetch`
| `1 <- 3` | `merge`
| `1 <- 4` | `pull`
|===

{empty} +

==== Combinations
[cols="2,10"]
|===
| `pull` | `fetch` + `merge`
| `clone` | `git init` +
`git remote add origin URL` +
`git fetch -all` +
`git pull origin master` +
(additionally `clone` will setup additional  remote tracking branches)
|===

{empty} +

#### Utility CMD
* `git status`


{empty} +

=== branch
// TODO




=== merge
|===
| merging branch | branch being merged | here <feature>
| receiving branch | branch receiving the merge | here <master>
| remote branch | newest branch | here <remote> = <master>
|===


==== workflow
[options=header,cols="1,8,4,16"]
|===
| # | command | context | effect
| 1 | `git status` |  <master> | check if HEAD is pointing to <master>.
| 2 | `git checkout <master>` | <master> | switch to <master> if HEAD was pointing elsewhere in step 1.
| 3 | `git fetch` | <feature> | fetch (store a copy) latest changes
| 4 | `git pull <remote> <master>` | <master> | pull (overwrite local branch) latest changes
| 5 | `git merge <feature>` | <master> | merge feature into <master>
|===

// TODO : test this actually works.
